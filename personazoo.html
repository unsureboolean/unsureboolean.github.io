<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PersonaZoo - Chat with AI Personas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="favicon.ico">
    <style>
        .hidden {
            display: none;
        }
        .chat-message {
            word-wrap: break-word;
        }
        .typing-indicator {
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            margin: 0 2px;
            background-color: #8B8B8B;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.5s infinite ease-in-out;
        }
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }
        .persona-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .persona-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .persona-card.selected {
            border: 2px solid #4299e1;
            transform: translateY(-5px);
        }
        .category-label {
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
            padding-bottom: 0.25rem;
        }
        optgroup {
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-blue-900 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold flex items-center">
                <i class="fas fa-robot mr-2"></i>
                PersonaZoo
            </h1>
            <nav>
                <a href="index.html" class="text-white hover:text-blue-200 transition-colors">
                    <i class="fas fa-home mr-1"></i>
                    Home
                </a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 mt-8">
        <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold mb-4 text-blue-900 flex items-center">
                    <i class="fas fa-comments mr-2"></i>
                    Chat with AI Personas
                </h2>
                <p class="mb-6">
                    Welcome to PersonaZoo! Chat with various AI personas, each with their own unique personality and style. 
                    Select a persona from the dropdown menus below and start chatting!
                </p>

                <!-- API Key Input (Hidden by default with auto-unlock) -->
                <div id="api-key-container" class="mb-6 p-4 bg-blue-50 rounded-lg">
                    <h3 class="text-lg font-semibold mb-2">Enter Password to Unlock Chat</h3>
                    <div class="flex">
                        <input type="password" id="api-key-input" placeholder="Enter password" 
                            class="flex-grow border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
                        <button id="unlock-button" class="ml-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-all">
                            <i class="fas fa-unlock mr-1"></i> Unlock
                        </button>
                    </div>
                </div>

                <!-- Chat Interface (Hidden until unlocked) -->
                <div id="chat-container" class="hidden">
                    <!-- Persona Selection -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold mb-3">Choose a Persona:</h3>
                        
                        <!-- Dropdown Menus -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <!-- Entertainment Personas Dropdown -->
                            <div>
                                <label for="entertainment-select" class="block text-sm font-medium text-gray-700 mb-1">Entertainment Characters:</label>
                                <select id="entertainment-select" class="w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                    <option value="tobias_funke">Tobias Fünke</option>
                                    <option value="butters_stotch">Butters Stotch</option>
                                    <option value="sheldon_cooper">Dr. Sheldon Cooper</option>
                                    <option value="socrates">Socrates</option>
                                    <option value="jack_sparrow">Captain Jack Sparrow</option>
                                    <option value="homer_simpson">Homer Simpson</option>
                                    <option value="frank_reynolds">Frank Reynolds</option>
                                </select>
                            </div>
                            
                            <!-- Professional Personas Dropdown -->
                            <div>
                                <label for="professional-select" class="block text-sm font-medium text-gray-700 mb-1">Professional Advisors:</label>
                                <select id="professional-select" class="w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                    <option value="zookeeper">Zookeeper (Guide)</option>
                                    <option value="career_coach">Career-Change Coach</option>
                                    <option value="interview_assistant">Interview Assistant</option>
                                    <option value="salary_negotiator">Salary Negotiation Strategist</option>
                                    <option value="productivity_consultant">Personal Productivity Consultant</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Current Persona Display -->
                        <div id="current-persona" class="bg-blue-50 p-3 rounded-lg flex items-center">
                            <i class="fas fa-hat-wizard text-2xl text-blue-500 mr-3"></i>
                            <div>
                                <p class="font-medium">Currently chatting with: <span id="current-persona-name">Zookeeper</span></p>
                                <p class="text-sm text-gray-600">Select a different persona from the dropdowns above</p>
                            </div>
                        </div>
                        
                        <!-- Hidden select for compatibility with existing code -->
                        <select id="persona-select" class="hidden">
                            <option value="zookeeper">Zookeeper</option>
                            <option value="tobias_funke">Tobias Fünke</option>
                            <option value="butters_stotch">Butters Stotch</option>
                            <option value="sheldon_cooper">Dr. Sheldon Cooper</option>
                            <option value="socrates">Socrates</option>
                            <option value="jack_sparrow">Captain Jack Sparrow</option>
                            <option value="homer_simpson">Homer Simpson</option>
                            <option value="frank_reynolds">Frank Reynolds</option>
                            <option value="career_coach">Career-Change Coach</option>
                            <option value="interview_assistant">Interview Assistant</option>
                            <option value="salary_negotiator">Salary Negotiation Strategist</option>
                            <option value="productivity_consultant">Personal Productivity Consultant</option>
                        </select>
                    </div>

                    <!-- Chat Messages -->
                    <div id="chat-messages" class="bg-gray-50 p-4 rounded-lg h-96 overflow-y-auto mb-4 border">
                        <!-- Messages will be added here dynamically -->
                    </div>

                    <!-- Message Input -->
                    <div class="flex">
                        <input type="text" id="message-input" placeholder="Type your message..." 
                            class="flex-grow border rounded-l px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
                        <button id="send-button" class="bg-blue-600 text-white px-4 py-2 rounded-r hover:bg-blue-700 transition-all">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>

                    <!-- Clear Chat Button -->
                    <div class="mt-4 text-right">
                        <button id="clear-button" class="text-sm text-gray-600 hover:text-gray-800 transition-colors">
                            <i class="fas fa-trash-alt mr-1"></i> Clear Chat
                        </button>
                    </div>
                </div>
            </div>

            <!-- About PersonaZoo -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-4 text-blue-900">About PersonaZoo</h2>
                <p class="mb-4">
                    PersonaZoo is an interactive chat experience that lets you converse with AI personas based on 
                    fictional characters and professional advisors. Each persona has its own unique personality, speech patterns, 
                    and knowledge base.
                </p>
                <p class="mb-4">
                    The Entertainment Characters section features personas based on popular TV shows and movies, 
                    while the Professional Advisors section offers specialized expertise in career development, 
                    interviewing, salary negotiation, and productivity.
                </p>
                <p>
                    Created by Jeff Tuel as a demonstration of AI character simulation and interactive web experiences.
                </p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-blue-900 text-white text-center p-6 mt-12">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="https://linkedin.com/in/jeff-tuel" target="_blank" rel="noopener noreferrer" class="text-white hover:text-blue-200 transition-colors">
                    <i class="fab fa-linkedin text-2xl"></i>
                </a>
                <a href="mailto:contact@jefftuel.com" class="text-white hover:text-blue-200 transition-colors">
                    <i class="fas fa-envelope text-2xl"></i>
                </a>
            </div>
            <p>&copy; 2025 Jeff Tuel. All rights reserved.</p>
            <div class="mt-2 flex justify-center space-x-4 text-sm">
                <a href="index.html" class="text-blue-200 hover:text-white transition-colors">Home</a>
                <a href="aiartwork.html" class="text-blue-200 hover:text-white transition-colors">AI Artwork</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/personas-extended.js"></script>
    <script src="js/openai-chat-debug-fixed.js"></script>
    <script>
        // Additional script for dropdown persona selection
        document.addEventListener('DOMContentLoaded', function() {
            const entertainmentSelect = document.getElementById('entertainment-select');
            const professionalSelect = document.getElementById('professional-select');
            const personaSelect = document.getElementById('persona-select');
            const currentPersonaName = document.getElementById('current-persona-name');
            const currentPersonaIcon = document.querySelector('#current-persona i');
            
            // Set default to Zookeeper
            personaSelect.value = "zookeeper";
            updateCurrentPersonaDisplay("zookeeper");
            
            // Entertainment dropdown change handler
            entertainmentSelect.addEventListener('change', function() {
                const selectedValue = this.value;
                personaSelect.value = selectedValue;
                updateCurrentPersonaDisplay(selectedValue);
                
                // Reset professional dropdown
                professionalSelect.selectedIndex = 0;
                console.log('Selected entertainment persona:', selectedValue);
            });
            
            // Professional dropdown change handler
            professionalSelect.addEventListener('change', function() {
                const selectedValue = this.value;
                personaSelect.value = selectedValue;
                updateCurrentPersonaDisplay(selectedValue);
                
                // Reset entertainment dropdown
                entertainmentSelect.selectedIndex = 0;
                console.log('Selected professional persona:', selectedValue);
            });
            
            // Function to update the current persona display
            function updateCurrentPersonaDisplay(personaKey) {
                if (window.personas && window.personas[personaKey]) {
                    const persona = window.personas[personaKey];
                    currentPersonaName.textContent = persona.nickname;
                    
                    // Update icon
                    currentPersonaIcon.className = '';
                    currentPersonaIcon.classList.add(...persona.avatar.split(' '));
                    currentPersonaIcon.classList.add(`text-${persona.color}-500`);
                }
            }
            
            // Initialize with a welcome message from the Zookeeper
            setTimeout(() => {
                const chatMessages = document.getElementById('chat-messages');
                if (chatMessages && chatMessages.children.length === 0) {
                    const welcomeMessage = document.createElement('div');
                    welcomeMessage.className = `chat-message ai-message bg-blue-100 p-3 rounded-lg mb-2 max-w-3/4`;
                    welcomeMessage.innerHTML = `
                        <div class="flex items-center mb-1">
                            <i class="fas fa-hat-wizard text-blue-500 mr-2"></i>
                            <span class="font-bold">Zookeeper</span>
                        </div>
                        <p>Welcome to PersonaZoo! I'm the Zookeeper, your guide to this interactive chat experience. You can select different personas from the dropdown menus above - try our entertainment characters for fun conversations or our professional advisors for practical guidance. Just type your message below and start chatting!</p>
                    `;
                    chatMessages.appendChild(welcomeMessage);
                }
            }, 1000);
        });
    </script>
</body>
</html>
